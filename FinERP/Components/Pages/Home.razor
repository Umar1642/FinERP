@page "/dashboard"
@using MudBlazor
@using MudBlazor.Charts

<MudContainer MaxWidth="MaxWidth.False" Class="pa-6">

    <!-- Header -->
    <MudText Typo="Typo.h4" Class="mb-6">Dashboard</MudText>

    <!-- KPI Cards -->
    <MudGrid Class="mb-6">

        <MudItem xs="12" sm="6" md="3">
            <MudCard Class="pa-4">
                <MudText Typo="Typo.subtitle2">Total Sales</MudText>
                <MudText Typo="Typo.h5">$12,430</MudText>
            </MudCard>
        </MudItem>

        <MudItem xs="12" sm="6" md="3">
            <MudCard Class="pa-4">
                <MudText Typo="Typo.subtitle2">Orders</MudText>
                <MudText Typo="Typo.h5">324</MudText>
            </MudCard>
        </MudItem>

        <MudItem xs="12" sm="6" md="3">
            <MudCard Class="pa-4">
                <MudText Typo="Typo.subtitle2">Customers</MudText>
                <MudText Typo="Typo.h5">89</MudText>
            </MudCard>
        </MudItem>

        <MudItem xs="12" sm="6" md="3">
            <MudCard Class="pa-4">
                <MudText Typo="Typo.subtitle2">Growth</MudText>
                <MudText Typo="Typo.h5" Color="Color.Success">+12%</MudText>
            </MudCard>
        </MudItem>

    </MudGrid>

    <!-- Chart + Table -->
    <MudGrid>

        <!-- Chart -->
        <MudItem xs="12" md="6">
            <MudPaper Class="pa-4">

                <MudText Typo="Typo.h6" Class="mb-4">Weekly Revenue</MudText>

                <MudChart ChartType="ChartType.Line"
                    ChartSeries="@_series"
                    ChartLabels="@_labels"
                    ChartOptions="@_options"
                    Width="100%"
                    Height="300px" />
                
            </MudPaper>
        </MudItem>

        <!-- Table -->
        <MudItem xs="12" md="6">
            <MudPaper Class="pa-4">

                <MudText Typo="Typo.h6" Class="mb-4">Recent Orders</MudText>

                <MudTable Items="@_orders" Hover="true" Dense="true">

                    <HeaderContent>
                        <MudTh>Order #</MudTh>
                        <MudTh>Customer</MudTh>
                        <MudTh>Amount</MudTh>
                    </HeaderContent>

                    <RowTemplate>
                        <MudTd>@context.Id</MudTd>
                        <MudTd>@context.Customer</MudTd>
                        <MudTd>$@context.Amount</MudTd>
                    </RowTemplate>

                </MudTable>

            </MudPaper>
        </MudItem>

    </MudGrid>

</MudContainer>

@code {

    private string[] _labels = { "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun" };

    private List<ChartSeries<double>> _series = new()
    {
        new ChartSeries<double>
        {
            Name = "Revenue",
            Data = new double[] { 1200, 2100, 1800, 2400, 2000, 1500, 2600 }
        }
    };

    private LineChartOptions _options = new()
    {
        XAxisTitle = "Days",
        YAxisTitle = "Revenue ($)",
        LineStrokeWidth = 3,
        ShowDataMarkers = true
    };

    private List<Order> _orders = new()
    {
        new Order { Id = 1001, Customer = "Alice", Amount = 120 },
        new Order { Id = 1002, Customer = "Bob", Amount = 75 },
        new Order { Id = 1003, Customer = "Charlie", Amount = 220 },
        new Order { Id = 1004, Customer = "Diana", Amount = 310 }
    };

    public class Order
    {
        public int Id { get; set; }
        public string Customer { get; set; }
        public double Amount { get; set; }
    }
}
